# ============================================
# KUBELENS PUBLIC URL (REQUIRED for OAuth2/SSO)
# ============================================
# The public URL where Kubelens is accessible
# Used for OAuth2 redirect URIs and OIDC issuer configuration
#
# Single domain deployment (recommended):
#   KUBELENS_PUBLIC_URL=https://kubelens.example.com
#
# The OAuth2 callback URI will be:
#   {KUBELENS_PUBLIC_URL}/api/v1/auth/oauth/callback
#
# For local development:
KUBELENS_PUBLIC_URL=http://localhost:8080

# ============================================
# OAuth2 Provider Credentials
# ============================================
# Configure providers via Kubelens UI: Settings > Integrations > OAuth2
# Or set environment variables for initial setup:

# Google OAuth2
# Get credentials from: https://console.cloud.google.com/apis/credentials
# Redirect URI to configure in Google Console:
#   {KUBELENS_PUBLIC_URL}/api/v1/auth/oauth/callback
#
# GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-client-secret

# ============================================
# User Sync Configuration
# ============================================
# Default group for new SSO users (must exist in Kubelens)
OIDC_DEFAULT_GROUP=viewer

# Auto-create groups from OIDC claims
OIDC_AUTO_CREATE_GROUP=true

# Map OIDC groups to Kubelens groups
# Format: "oidc-group1:kubelens-group1,oidc-group2:kubelens-group2"
# OIDC_GROUP_MAPPING=admins:admin,developers:developer

# ============================================
# Internal Configuration (auto-configured)
# ============================================
# These are typically not needed - auto-derived from KUBELENS_PUBLIC_URL
# DEX_CLIENT_ID=kubelens
# DEX_CLIENT_SECRET=kubelens-secret

# ============================================
# DEPRECATED - Do not use
# ============================================
# The following environment variables are deprecated and should not be used:
#
# KUBELENS_URL - replaced by KUBELENS_PUBLIC_URL
# OIDC_ISSUER_URL - auto-configured as {KUBELENS_PUBLIC_URL}/api/v1/auth/oauth
# DEX_ISSUER - auto-configured
# OIDC_CLIENT_ID - use extension config instead
# OIDC_CLIENT_SECRET - use extension config instead
